yo mate !! how are you??

→ << fin wc > out


<Makefile << fin <src/main.c head -15 | echo hello 15 >out_file >> files/out_file

< files/no_right << files/write_o < files/all_rights ls -l >files/read_o >>files/read_write >files/exec_o.c 

🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥
🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩

🟢 
export TEST=bonjour
export TEST1="1+2 +3 +9 +85" 
export TEST2='toi=moi'

unset TEST TEST1 TEST2

e'c'"h"o salut
e"c"""h"o" salut
"echo" salut
"echo salut"

🔴
export TEST=bonjour TEST1="1+2 +3 +9 +85" TEST2='toi=moi'

🔴
export | wc


🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩🚩
🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥

to do expansion :
	→ cmd="ls -l" puis $cmd affiche le resultat de ls -l
	→ "$cmd" doit afficher "ls -lra: command not found"
	→ export bout="s -l" puis faire l$bout -ra : ca doit afficher le resultat de "ls -l -ra"
example / error :
	→ cmd=321 echo yes => le cmd=321 n'est pas pris en compte quand autre commande derriere
	→ $ < ou << ou >> ou >
	bash: syntax error near unexpected token `newline'


	echo 1 > out12 2 3 << 1 << 2 << 3 < in < in2 >>out13


	→ $ echo 1 > out1 2 3 > /dev/stdout << 1 << 2 << 3 < in < in2
		→ ouvrir tous les heredocs
		→ /dev/stdout est ignore car il est ouvert en dernier
		→ out1 est bien cree mais il est vide
		→ in et in2 n'existent pas 
			→ erreur sur <in bash: in: No such file or directory
			→ arret du programme 
			→ echo ne s'execute pas


TO DO JESS => pour cd, gérer le cas où on unset la variable PWD et OLDPWD

TESTS QUOTES ET DOLLAR :
→ $ echo 'hello world'
→ $ echo "hello world"
→ $ echo 'hello''world'
→ $ echo "hello""world"
→ $ echo "hello" 'world' "et Bea"
→ $ echo "salut" Bea '"$USER"'
→ $ echo $USER
→ $ echo "$USER"
→ $ echo '$USER'
→ $ echo "'$USER'"
→ $ echo '"$USER"'
→ $ echo $USER et "$PWD"
→ $ echo "$USER et $PWD"
→ $ echo '$USER et $PWD'
→ $ echo "$USER" et '$PWD'
→ $ echo '$USER' et "$PWD"
→ $ echo "$USER et '$PWD'"
→ $ echo "$"USER
→ $ echo '$'USER
→ $ echo " salut $"USER
→ $ echo $ salut
→ $ echo salut $
→ $ echo $?
→ $ echo $?ok
→ $ echo $? ok
→ $ echo "la valeur de retour est $?" mais aussi $?
→ $ echo "cat lol.c | cat > lol.c"
→ $ echo "a" | echo "b"


POUR INFO :
	→ Comme on ne doit pas gerer les guillemets ou acolades ouvertes, lorsqu'on fait
		$ echo ${PATH{   OU   echo ${PATH
			ca renvoie: PATH


!!! ATTENTION !!!

>> SEGFAULT / CRASH <<
	→ 


>> COMPORTEMENTS ANORMAUX <<

	→ Je n'arrive pas a faire fonctionner le export

	→ Builtin CD :
		Lorsque PWD est unset et qu'on fait un cd pour changer de directory, le PWD ne revient pas alors que
		ca doit s'afficher si on fait :	echo $PWD (le OLDPWD doit bien rester vide)


~ MESSAGE DE DÉFAITE DE JESS ~

Béa,

C'est dans le plus grand des regrets que je t'annonce mon incapacité à gérer à temps le PWD / OLDPWD une fois
qu'il a été unset :(
(je t'avoue surtout que là, je n'arrive même plus à réfléchir correctement)
C'est la fonction update_pwd qui est à revoir.

J'ai essayé plein de solutions différentes qui m'ont mené à des leaks ou à des segfault, mais surtout
à des résultats pires que ce qu'on avait avant !

Je n'ai donc (presque) rien gardé de ce que j'ai fait depuis ton départ :

>> Le unset est resté inchangé (il n'y a pas la suppression de env->value lorsqu'il s'agit de PWD / OLDPWD).

>> Je n'ai pas laissé le PWD et OLDPWD que nous avions parlé de rajouter dans la structure principale. Je n'arrivais même
pas à les utiliser pour le pwd (mais à voir s'ils ne seront pas utiles pour le pwd).

>> Dans la gestion du $ (fonction compare_var, dans le fichier dollar_expansion.c), j'ai laissé la condition "env->to_export == FALSE".
	Je pense que cette condition sera amenée à être fausse car on ne pourra pas se baser sur le env->to_export pour afficher PWD avec echo.
	Pour rappel, lorsqu'on unset une variable (admettons PWD), elle disparait définitivement de env mais peut toujours apparaître avec un echo
	une fois qu'on a utilisé au moins une fois le cd. En gros, le cd redonne une nouvelle valeur à PWD.
	Je pense donc que le flag env->to_export nous permettra de définitivement ne plus faire impriner PWD dans env, mais on n'aura toujours besoin
	d'afficher PWD avec un echo.

En fait je n'ai rien laissé parce que sans un truc qui fonctionne correctement, ce ne sont que des points qui auraient bloqué tout le reste.
Surtout si je laissais ca comme ca.

Je suis hyper tentée de ramener mon PC avec moi pour bosser dans le train demain matin, voire un moment dans la semaine.
Ca me tracasse cette histoire et ca m'embête de te laisser ca.


Dans tous les cas, n'hésite pas à me joindre sur Discord si tu as une question ou besoin de quelque chose !


J'espère que tu as passé un bon weekend (j'imagine que tu liras ca lundi, dans le tout nouveau campus !).
Des bisous,

Jess


~~~~~~~~~~~~~~~~~~ BANNER STYLE ~~~~~~~~~~~~~~~~~~

toilet -f small 'MiniShell' | boxes -d spring -a hcvc >> out_file
toilet -f script 'MiniShell' | boxes -d spring -a hcvc >> out_file
toilet -f circle 'MiniShell' | boxes -d spring -a hcvc >> out_file
toilet -f future 'MiniShell' | boxes -d spring -a hcvc >> out_file
toilet -f pagga 'MiniShell' | boxes -d spring -a hcvc >> out_file
toilet -f smblock 'MiniShell' | boxes -d spring -a hcvc >> out_file


toilet -f future 'MiniShell' | boxes -d parchment -a hcvc 
toilet -f future 'MiniShell' | boxes -d parchment -a hcvc -s 60x10 
toilet -f future 'MiniShell' | boxes -d parchment -a hcvc -s 50x10 


toilet -f small 'MiniShell' | boxes -d spring -a hcvc
toilet -f script 'MiniShell' | boxes -d spring -a hcvc
toilet -f circle 'MiniShell' | boxes -d spring -a hcvc
toilet -f future 'MiniShell' | boxes -d spring -a hcvc
toilet -f pagga 'MiniShell' | boxes -d spring -a hcvc
toilet -f smblock 'MiniShell' | boxes -d spring -a hcvc


toilet -f small 'MiniShell' | boxes -d parchment -a hcvc | lolcat > out_file
 ______________________________________
/\                                     \
\_|  __  __ _      _ ___ _        _ _  |
  | |  \/  (_)_ _ (_) __| |_  ___| | | |
  | | |\/| | | ' \| \__ \ ' \/ -_) | | |
  | |_|  |_|_|_||_|_|___/_||_\___|_|_| |
  |                                    |
  |   _________________________________|_
   \_/___________________________________/

toilet -f script 'MiniShell' | boxes -d parchment -a hcvc | lolcat >> out_file
 ____________________________________________________
/\                                                   \
\_|  ,__ __                       _          _   _   |
  | /|  |  |  o          o    () | |        | | | |  |
  |  |  |  |      _  _        /\ | |     _  | | | |  |
  |  |  |  |  |  / |/ |  |   /  \|/ \   |/  |/  |/   |
  |  |  |  |_/|_/  |  |_/|_//(__/|   |_/|__/|__/|__/ |
  |                                                  |
  |                                                  |
  |   _______________________________________________|_
   \_/_________________________________________________/

toilet -f circle 'MiniShell' | boxes -d parchment -a hcvc | lolcat >> out_file
 _____________
/\            \
\_| ⓂⓘⓝⓘⓈⓗⓔⓛⓛ |
  |           |
  |   ________|_
   \_/__________/

toilet -f future 'MiniShell' | boxes -d parchment -a hcvc | lolcat >> out_file
 ___________________________
/\                          \
\_| ┏┳┓╻┏┓╻╻┏━┓╻ ╻┏━╸╻  ╻   |
  | ┃┃┃┃┃┗┫┃┗━┓┣━┫┣╸ ┃  ┃   |
  | ╹ ╹╹╹ ╹╹┗━┛╹ ╹┗━╸┗━╸┗━╸ |
  |   ______________________|_
   \_/________________________/

toilet -f pagga 'MiniShell' | boxes -d parchment -a hcvc | lolcat >> out_file
 ________________________________________
/\                                       \
\_| ░█▄█░▀█▀░█▀█░▀█▀░█▀▀░█░█░█▀▀░█░░░█░░ |
  | ░█░█░░█░░█░█░░█░░▀▀█░█▀█░█▀▀░█░░░█░░ |
  | ░▀░▀░▀▀▀░▀░▀░▀▀▀░▀▀▀░▀░▀░▀▀▀░▀▀▀░▀▀▀ |
  |   ___________________________________|_
   \_/_____________________________________/

toilet -f smblock 'MiniShell' | boxes -d parchment -a hcvc | lolcat >> out_file
 __________________________
/\                         \
\_| ▙▗▌▗    ▗ ▞▀▖▌     ▜▜  |
  | ▌▘▌▄ ▛▀▖▄ ▚▄ ▛▀▖▞▀▖▐▐  |
  | ▌ ▌▐ ▌ ▌▐ ▖ ▌▌ ▌▛▀ ▐▐  |
  | ▘ ▘▀▘▘ ▘▀▘▝▀ ▘ ▘▝▀▘ ▘▘ |
  |   _____________________|_
   \_/_______________________/

toilet -f pagga 'MiniShell' | boxes -d spring -a hcvc | lolcat >> out_file
      ,
  /\^/`\
 | \/   |
 | |    |                                           jgs
 \ \    /                                         _ _
  '\\//'   ░█▄█░▀█▀░█▀█░▀█▀░█▀▀░█░█░█▀▀░█░░░█░░ _{ ' }_
    ||     ░█░█░░█░░█░█░░█░░▀▀█░█▀█░█▀▀░█░░░█░░{ `.!.` }
    ||     ░▀░▀░▀▀▀░▀░▀░▀▀▀░▀▀▀░▀░▀░▀▀▀░▀▀▀░▀▀▀',_/Y\_,'
    ||  ,                                        {_,_}
|\  ||  |\                                         |
| | ||  | |                                      (\|  /)
| | || / /                                        \| //
 \ \||/ /                                          |//
  `\\//`   \   \./    \\   \./    \\   \./    \ \\ |/ /
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


toilet -f smblock 'MiniShell' | boxes -d parchment -a hcvc | lolcat >> out_file
toilet -f smblock 'MiniShell' | boxes -d parchment -a hcvc -s 60x10 | lolcat >> out_file
toilet -f smblock 'MiniShell' | boxes -d parchment -a hcvc -s 50x10 | lolcat >> out_file
 __________________________
/\                         \
\_| ▙▗▌▗    ▗ ▞▀▖▌     ▜▜  |
  | ▌▘▌▄ ▛▀▖▄ ▚▄ ▛▀▖▞▀▖▐▐  |
  | ▌ ▌▐ ▌ ▌▐ ▖ ▌▌ ▌▛▀ ▐▐  |
  | ▘ ▘▀▘▘ ▘▀▘▝▀ ▘ ▘▝▀▘ ▘▘ |
  |   _____________________|_
   \_/_______________________/
 ________________________________________________________
/\                                                       \
\_|                                                      |
  |                ▙▗▌▗    ▗ ▞▀▖▌     ▜▜                 |
  |                ▌▘▌▄ ▛▀▖▄ ▚▄ ▛▀▖▞▀▖▐▐                 |
  |                ▌ ▌▐ ▌ ▌▐ ▖ ▌▌ ▌▛▀ ▐▐                 |
  |                ▘ ▘▀▘▘ ▘▀▘▝▀ ▘ ▘▝▀▘ ▘▘                |
  |                                                      |
  |   ___________________________________________________|_
   \_/_____________________________________________________/
 ______________________________________________
/\                                             \
\_|                                            |
  |           ▙▗▌▗    ▗ ▞▀▖▌     ▜▜            |
  |           ▌▘▌▄ ▛▀▖▄ ▚▄ ▛▀▖▞▀▖▐▐            |
  |           ▌ ▌▐ ▌ ▌▐ ▖ ▌▌ ▌▛▀ ▐▐            |
  |           ▘ ▘▀▘▘ ▘▀▘▝▀ ▘ ▘▝▀▘ ▘▘           |
  |                                            |
  |   _________________________________________|_
   \_/___________________________________________/


toilet -f future 'MiniShell' | boxes -d parchment -a hcvc | lolcat >> out_file
toilet -f future 'MiniShell' | boxes -d parchment -a hcvc -s 60x10 | lolcat >> out_file
toilet -f future 'MiniShell' | boxes -d parchment -a hcvc -s 50x10 | lolcat >> out_file
 ___________________________
/\                          \
\_| ┏┳┓╻┏┓╻╻┏━┓╻ ╻┏━╸╻  ╻   |
  | ┃┃┃┃┃┗┫┃┗━┓┣━┫┣╸ ┃  ┃   |
  | ╹ ╹╹╹ ╹╹┗━┛╹ ╹┗━╸┗━╸┗━╸ |
  |   ______________________|_
   \_/________________________/
 ________________________________________________________
/\                                                       \
\_|                                                      |
  |               ┏┳┓╻┏┓╻╻┏━┓╻ ╻┏━╸╻  ╻                  |
  |               ┃┃┃┃┃┗┫┃┗━┓┣━┫┣╸ ┃  ┃                  |
  |               ╹ ╹╹╹ ╹╹┗━┛╹ ╹┗━╸┗━╸┗━╸                |
  |                                                      |
  |                                                      |
  |   ___________________________________________________|_
   \_/_____________________________________________________/
 ______________________________________________
/\                                             \
\_|                                            |
  |          ┏┳┓╻┏┓╻╻┏━┓╻ ╻┏━╸╻  ╻             |
  |          ┃┃┃┃┃┗┫┃┗━┓┣━┫┣╸ ┃  ┃             |
  |          ╹ ╹╹╹ ╹╹┗━┛╹ ╹┗━╸┗━╸┗━╸           |
  |                                            |
  |                                            |
  |   _________________________________________|_
   \_/___________________________________________/
